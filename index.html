<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 9]> <html class="oldie"> <![endif]-->
<!--[if gt IE 8]><!--> <html manifest="online.appcache"> <!--<![endif]-->
	<head>
		<meta charset="utf-8" />
		
		<link type="text/css" rel="stylesheet" href="style/normalize.css" />
		<link type="text/less" rel="stylesheet" href="style/index.less" />

		
		<script src="js/vendor/less-1.3.0.min.js"></script>
		<script src="js/vendor/modernizr-latest.js"></script>
		
		<title>web reader</title>
	</head>
	<body>
		
<!--
		<section id="toc" data-id-prefix="toc" class="toc">
			<a href="#library" data-id-prefix="toc" class="nav open"><h1>Table of Contents</h1></h1>
			<a href="#ebook" data-id-prefix="ebook" class="nav hide">hide toc</a>
			<div class="content">
			</div>
		</section>
-->
		<div class="pane" id="bookmarks"  data-prefix="bookmarks">
			<header>
				<h1>Bookmarks</h1>
				<p>not implemented</p>
			</header>
			
			<div class="content">
			</div>
			
			<a class="back" href="#library" data-prefix="library">Back</a>
		</div>
		
		<div class="pane" id="settings" data-prefix="settings">
			<header>
				<h1>Settings</h1>
				<p>not implemented</p>
			</header>
			
			<div class="content">
			</div>
			
			<a class="back" href="#library" data-prefix="library">Back</a>
		</div>
		
		<div class="pane" id="add" data-prefix="add">
			<header>
				<h1>Add EBook</h1>
			</header>
			
			<div class="content">
				<form id=add_ebook action="#">
					<p>
						<input type=file />
						<input type=submit />
					</p>
				</form>
			</div>
			
			<a class="back" href="#library" data-prefix="library">Back</a>
		</div>
		
		<div class="pane" id="tos" data-prefix="tos">
			<header>
				<h1>Terms of Service</h1>
				<p>not implemented</p>
			</header>
			
			<div class="content">
			</div>
			
			<a class="back" href="#library" data-prefix="library">Back</a>
		</div>
		
		<div class="ebook pane bookmarks" data-prefix="ebook-bookmarks" id="ebook-bookmarks">
			<header>
				<h1>Bookmarks</h1>
				<p>not implemented</p>
			</header>
			
			<div class="content">
			</div>
			
			<a class="back" href="#ebook" data-prefix="ebook">Back</a>
		</div>
		
		<div class="ebook pane settings"  data-prefix="ebook-settings"  id="ebook-settings">
			<header>
				<h1>Settings</h1>
				<p>not implemented</p>
			</header>
			
			<div class="content">
			</div>
			
			<a class="back" href="#ebook" data-prefix="ebook">Back</a>
		</div>
		
		<div class="ebook pane toc"       data-prefix="toc"             id="toc">
			<header>
				<h1>Table of Contents</h1>
				<p>not implemented</p>
			</header>
			
			<div class="content">
			</div>
			
			<a class="back" href="#ebook" data-prefix="ebook">Back</a>
		</div>
		
		<div class="ebook"                data-prefix="ebook"           id="ebook">
			<header>
				<a href="#library" data-prefix="library">Library</a>
				<h1>EBook</h1>
			</header>
			
			<div class="content">
				<a rel="prev" href="#">prev</a>
				<iframe seamless moz-seamless></iframe>
				<a rel="next" href="#">next</a>
			</div>
			
			<footer>
				<nav>
					<ul>
						<li><a data-prefix="ebook-bookmarks" href="#ebook-bookmarks">Bookmarks</a></li>
						<li><a data-prefix="ebook-settings"  href="#ebook-settings">Settings</a></li>
						<li><a data-prefix="toc"             href="#toc"><abbr title="Table of Contents">ToC</abbr></a></li>
						<li><a                               href="#fullscreen">Fullscreen</a></li>
					</ul>
				</nav>
			</footer>
		</div>
		
		<div id="library" class="library">
			<header>
				<h1>Library</h1>
			</header>
			
			<div class="content">
				<form action="#" id="library-filter" accept-charset="utf-8">
					<p>
						<input autofocus type="search" name="filter" placeholder="filter library" tabindex="1"/>
					</p>
				</form>
				<ul id="library-list"></ul>
			</div>
			
			<footer>
				<nav>
					<ul>
						<li><a data-prefix="bookmarks" href="#bookmarks">Bookmarks</a></li>
						<li><a data-prefix="settings"  href="#settings">Settings</a></li>
						<li><a data-prefix="add"       href="#add">Add EBook</a></li>
						<li><a data-prefix="tos"       href="#tos">
							<abbr title="Terms of Service">ToS</abbr></a>
						</li>
					</ul>
				</nav>
			</footer>
		</div>
		
		<script src="js/vendor/jsrender/jsrender.js"></script>
		
		<script src="js/trigger.js"></script>
		<script src="js/web-reader.js"></script>
		<script src="js/epub.js"></script>
		<script src="js/index.js"></script>
		
		<script id="library-item" type="text/x-jsrender">
			<li id="{{:identifier.value}}" class="ebook {{:type}}" xml:lang="{{:language[0].value}}" tabindex="{{:#index+1}}">
				<div class="search-content">
					{{for title}}
						{{:value.toLowerCase()}}
					{{/for}}
					{{for creator}}
						{{:value.toLowerCase()}}
					{{/for}}
					{{for series}}
						{{:value.toLowerCase()}}
					{{/for}}
					{{for series_index}}
						{{:value.toLowerCase()}}
					{{/for}}
				</div>
				<button name="delete">delete</button>
				{{if series[0]}}<span class="series">{{:series[0].value}} − </span>{{/if}}
				{{if series_index[0]}}<span class="series_index">{{:series_index[0].value}} − </span>{{/if}}
				<span class="title">{{:title[0].value}}</span>
				by
				{{for creator}}{{if #index > 0}}, {{/if}}
				<span class="creator">{{:value}}</span>{{/for}}
				<a href="#ebook/{{:identifier.value.replace('@', '@@', 'g')}}">read</a>
			</li>
		</script>
	</body>
</html>
